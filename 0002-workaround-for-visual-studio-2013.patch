From 4496c53a542ace9293995e269c6f2eb0feb9f232 Mon Sep 17 00:00:00 2001
From: Croydon <cr0ydon@outlook.com>
Date: Mon, 10 Sep 2018 15:16:05 +0200
Subject: [PATCH] workaround for visual studio 2013

---
 bison/src/scan-code.c | 7 +++++++
 flex/src/flexdef.h    | 7 +++++++
 2 files changed, 14 insertions(+)

diff --git a/bison/src/scan-code.c b/bison/src/scan-code.c
index 158f405..c79cd5d 100644
--- a/bison/src/scan-code.c
+++ b/bison/src/scan-code.c
@@ -296,6 +296,13 @@
 /* %if-c-only */
 #include "system.h"
 #include <stdio.h>
+// For Visual Studio 2013 we need this workaround
+#ifdef _MSC_VER
+#if _MSC_VER < 1900
+#define snprintf _snprintf
+#endif
+#endif
+
 #include <string.h>
 #include <errno.h>
 #include <stdlib.h>
diff --git a/flex/src/flexdef.h b/flex/src/flexdef.h
index 9ed4d44..d0693a1 100644
--- a/flex/src/flexdef.h
+++ b/flex/src/flexdef.h
@@ -40,6 +40,13 @@
 #endif

 #include <stdio.h>
+// For Visual Studio 2013 we need this workaround
+#ifdef _MSC_VER
+#if _MSC_VER < 1900
+#define snprintf _snprintf
+#endif
+#endif
+
 #include <stdlib.h>
 #include <stdarg.h>
 #include <setjmp.h>
--
